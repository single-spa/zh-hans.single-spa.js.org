<!DOCTYPE html>
<html lang="en" data-theme="">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>
              window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
              ga('create', 'UA-138683004-1', 'auto');
              ga('send', 'pageview');
            </script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<script type="text/javascript">/*<![CDATA[*/window.__chunkMapping={"17896441":["/17896441.6b93f7b8.js"],"40951796":["/40951796.9d9babc1.js"],"77404338":["/77404338.a320b743.js"],"main":["/main.1b422de1.js"],"015816e2":["/015816e2.2b702041.js"],"02af63f8":["/02af63f8.db8ef807.js"],"075c7a17":["/075c7a17.be9da15b.js"],"076c147e":["/076c147e.ab78b3c9.js"],"08c25933":["/08c25933.4609c3ce.js"],"0abd59c6":["/0abd59c6.e14bb19c.js"],"0bd57bfb":["/0bd57bfb.33ff5241.js"],"0f78e9b3":["/0f78e9b3.0ca2dbaa.js"],"0f85c961":["/0f85c961.7bd03759.js"],"12a16bf1":["/12a16bf1.122af742.js"],"1570933b":["/1570933b.30d03a59.js"],"1580737e":["/1580737e.2c395502.js"],"166e7bef":["/166e7bef.2430ec32.js"],"1943dfb2":["/1943dfb2.87e61046.js"],"1a9639fa":["/1a9639fa.38c9d7d5.js"],"1b7012b8":["/1b7012b8.f1076efd.js"],"1b9bd3d9":["/1b9bd3d9.81358b43.js"],"1be78505":["/1be78505.174b2750.js"],"1dc3c8d9":["/1dc3c8d9.6da6d518.js"],"1e99f093":["/1e99f093.dc1a7902.js"],"29aa1e09":["/29aa1e09.d05f4db0.js"],"2aac956c":["/2aac956c.88da4a05.js"],"2c1965a7":["/2c1965a7.9764acc6.js"],"2d5563c8":["/2d5563c8.626ac5ef.js"],"2dc6efc5":["/2dc6efc5.3922751f.js"],"2e1d0e00":["/2e1d0e00.fe1c6066.js"],"2e5fe557":["/2e5fe557.38ed25f6.js"],"2feb753e":["/2feb753e.169e1bae.js"],"3272ebf4":["/3272ebf4.f81e0f92.js"],"389f1b32":["/389f1b32.06bfc6d6.js"],"38eb30df":["/38eb30df.e6c0fbd8.js"],"3a7fefd0":["/3a7fefd0.ca5c8ab3.js"],"3ab9445b":["/3ab9445b.1bd17f76.js"],"3d54de4d":["/3d54de4d.df3f6391.js"],"3dfe9ba5":["/3dfe9ba5.7887d1d9.js"],"3f900230":["/3f900230.62bf0a32.js"],"3fa72edb":["/3fa72edb.27b41745.js"],"431ca13d":["/431ca13d.80a9dcf8.js"],"442d7a31":["/442d7a31.df5d7b33.js"],"444c960c":["/444c960c.6ba0b36b.js"],"48cf01b6":["/48cf01b6.16c1266c.js"],"4b677fa0":["/4b677fa0.af417ab8.js"],"52af37f2":["/52af37f2.a9dacf1e.js"],"5509b76f":["/5509b76f.46cc80b9.js"],"565d74f4":["/565d74f4.af9b6643.js"],"56ee44b8":["/56ee44b8.e45ec6ec.js"],"572e4edf":["/572e4edf.de7c4a01.js"],"5896a7ea":["/5896a7ea.d3a42514.js"],"5b8adf66":["/5b8adf66.4881d89c.js"],"5ba86545":["/5ba86545.25f253fd.js"],"5c035ad5":["/5c035ad5.325b740b.js"],"5c27e93c":["/5c27e93c.499c0dd4.js"],"5c41c4c9":["/5c41c4c9.cbc26e5f.js"],"5cdb502c":["/5cdb502c.eb5615ef.js"],"5d293e86":["/5d293e86.9c9eb924.js"],"5df857db":["/5df857db.843e45ee.js"],"5e12ca1d":["/5e12ca1d.94090d6f.js"],"65cd79b7":["/65cd79b7.d2e03137.js"],"67152cfe":["/67152cfe.713624e8.js"],"674fa9c4":["/674fa9c4.1af0d5fe.js"],"68f5cb3a":["/68f5cb3a.7f3f3ba4.js"],"696a01cf":["/696a01cf.4dd6f731.js"],"69e6e3bb":["/69e6e3bb.c172cfe5.js"],"6c11b4de":["/6c11b4de.61e17402.js"],"6c17cf3c":["/6c17cf3c.5e64bdf3.js"],"6cb48572":["/6cb48572.8d5f075d.js"],"6ed76f0e":["/6ed76f0e.ed5ea430.js"],"72d0b912":["/72d0b912.9f4d2397.js"],"758ac1af":["/758ac1af.03933ad9.js"],"760f80dd":["/760f80dd.78666f14.js"],"76852a88":["/76852a88.ec2646ae.js"],"78e9b454":["/78e9b454.9b594ceb.js"],"798c9bc2":["/798c9bc2.bce5d0be.js"],"7a54a545":["/7a54a545.e1d907be.js"],"7a77816f":["/7a77816f.230f1a52.js"],"7b16188f":["/7b16188f.f5d4fc59.js"],"7bb2f638":["/7bb2f638.e7ff0ec8.js"],"840a98f0":["/840a98f0.48130a58.js"],"85902a93":["/85902a93.95457ad6.js"],"86438d70":["/86438d70.e26e6291.js"],"87c6a9c4":["/87c6a9c4.f049b9ec.js"],"88ab1274":["/88ab1274.5eb0d750.js"],"8ac9c664":["/8ac9c664.201a2ecc.js"],"8aedf5d7":["/8aedf5d7.72f6c1ea.js"],"8c472a46":["/8c472a46.1cef0f68.js"],"9352d19f":["/9352d19f.d8b14dd9.js"],"93e8f896":["/93e8f896.625c1b73.js"],"940fc73a":["/940fc73a.118e7887.js"],"96f9dd39":["/96f9dd39.2b30b52b.js"],"98ffbda8":["/98ffbda8.8a50368b.js"],"9afda0ee":["/9afda0ee.610a5a78.js"],"9c9e4252":["/9c9e4252.63edf3c1.js"],"9d672d00":["/9d672d00.96783587.js"],"9e1523d0":["/9e1523d0.06180193.js"],"9e243e3f":["/9e243e3f.658ef592.js"],"9eb9fa54":["/9eb9fa54.20734e76.js"],"a1c1515a":["/a1c1515a.5bea6909.js"],"a4139f5a":["/a4139f5a.7e54fde2.js"],"a57ccd44":["/a57ccd44.a2734567.js"],"a5852e81":["/a5852e81.114fedaa.js"],"a62c5788":["/a62c5788.f3d79704.js"],"a6aa9e1f":["/a6aa9e1f.ff75bd92.js"],"a80d6cf5":["/a80d6cf5.ecf2bba7.js"],"a9668f36":["/a9668f36.cbe71f03.js"],"a97faf63":["/a97faf63.a2bf9119.js"],"a998b65c":["/a998b65c.74704ef8.js"],"ac1a782b":["/ac1a782b.d3f3df6b.js"],"af6c1c80":["/af6c1c80.eac5f5a3.js"],"b025bb67":["/b025bb67.4be96bc3.js"],"b0834b9a":["/b0834b9a.b6c8a2bb.js"],"b5351572":["/b5351572.e5be24e6.js"],"b7efbaa4":["/b7efbaa4.3a155275.js"],"bba233d4":["/bba233d4.d1045fe1.js"],"bdd8dcaf":["/bdd8dcaf.2e029277.js"],"c0c34336":["/c0c34336.049fe3bf.js"],"c3d0a0a5":["/c3d0a0a5.2db1f28d.js"],"c41acfd1":["/c41acfd1.972dc270.js"],"c4f5d8e4":["/c4f5d8e4.3a188af7.js"],"c5143b7b":["/c5143b7b.f59ff9a4.js"],"c54ca5fe":["/c54ca5fe.6403ba1a.js"],"c867fe7c":["/c867fe7c.6038a8a0.js"],"caa2e070":["/caa2e070.c65391cf.js"],"cafbfab7":["/cafbfab7.f15575d5.js"],"cb81218f":["/cb81218f.56972298.js"],"cc32fbde":["/cc32fbde.c34823cb.js"],"ccc49370":["/ccc49370.e0c0f284.js"],"d1104007":["/d1104007.931e7a72.js"],"d37dc8dd":["/d37dc8dd.f455a90f.js"],"d3dd1f61":["/d3dd1f61.230677e0.js"],"d44557c3":["/d44557c3.3b205b86.js"],"d5b8fcd8":["/d5b8fcd8.4dbf4d2f.js"],"d6377ff4":["/d6377ff4.b9356244.js"],"d7647bb5":["/d7647bb5.2cf4319f.js"],"da0ebe4a":["/da0ebe4a.2c69142b.js"],"daa69925":["/daa69925.b6e85d8a.js"],"daf1756f":["/daf1756f.4c7253e4.js"],"dc7b4688":["/dc7b4688.9b458727.js"],"dcc53905":["/dcc53905.b2778e32.js"],"decfdbba":["/decfdbba.a3ca9520.js"],"e076d91c":["/e076d91c.0b3201dd.js"],"e111f111":["/e111f111.e6583c18.js"],"e16cad4d":["/e16cad4d.a256cbbd.js"],"e2603d2d":["/e2603d2d.dc478027.js"],"e26b05e6":["/e26b05e6.6c9209e4.js"],"e4355444":["/e4355444.29d82fd7.js"],"e469ac48":["/e469ac48.04f551e5.js"],"e4fbccb0":["/e4fbccb0.e7b65dfc.js"],"e628667e":["/e628667e.67c27542.js"],"e6b6a638":["/e6b6a638.d2fb0262.js"],"e74a79a5":["/e74a79a5.4ba60533.js"],"e84c24e5":["/e84c24e5.633f8d82.js"],"eafe302d":["/eafe302d.f741ca30.js"],"ec338f2c":["/ec338f2c.46fd2e08.js"],"ee85e528":["/ee85e528.a359f5fc.js"],"ef491088":["/ef491088.ca7cd224.js"],"f2b4c57f":["/f2b4c57f.29c0971f.js"],"f3344494":["/f3344494.c5aa6968.js"],"f539466a":["/f539466a.c1206aa4.js"],"f72bcd7c":["/f72bcd7c.9f61efe1.js"],"f8cfee77":["/f8cfee77.de4882fb.js"],"f91e79c8":["/f91e79c8.d06fc336.js"],"f9617f5b":["/f9617f5b.53f9478e.js"],"fa29c2d5":["/fa29c2d5.9fb67817.js"],"fcc2aa60":["/fcc2aa60.fd3312ec.js"],"fcfac0f1":["/fcfac0f1.43fd7fd8.js"],"fe4bf730":["/fe4bf730.a49c88e1.js"],"feb0df8a":["/feb0df8a.e148084b.js"],"ff185f4e":["/ff185f4e.a46f77d5.js"]};/*]]>*/</script>

<title data-react-helmet="true">Applications API</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" property="og:title" content="single-spa Â· a javascript framework for front-end microservices"/><meta data-react-helmet="true" name="docsearch:version" content="5.x"/><meta data-react-helmet="true" property="og:image" content="https://single-spa.github.io/zh-hans.single-spa.js.org/img/docusaurus.png"/><meta data-react-helmet="true" property="twitter:image" content="https://single-spa.github.io/zh-hans.single-spa.js.org/img/docusaurus.png"/><meta data-react-helmet="true" name="twitter:image:alt" content="Image for single-spa Â· a javascript framework for front-end microservices"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="description" content="single-spaè¾“å‡ºçš„æ˜¯å‘½åå‡½æ•°å’Œå˜é‡è€Œä¸æ˜¯é»˜è®¤è¾“å‡ºï¼Œè¿™æ„å‘³ç€å¼•ç”¨å¿…é¡»ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š"/><meta data-react-helmet="true" property="og:description" content="single-spaè¾“å‡ºçš„æ˜¯å‘½åå‡½æ•°å’Œå˜é‡è€Œä¸æ˜¯é»˜è®¤è¾“å‡ºï¼Œè¿™æ„å‘³ç€å¼•ç”¨å¿…é¡»ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š"/><meta data-react-helmet="true" property="og:url" content="https://single-spa.github.io/zh-hans.single-spa.js.org/docs/api"/>

<link data-react-helmet="true" rel="shortcut icon" href="/img/logo-blue-favicon.ico"/>


<link rel="stylesheet" type="text/css" href="/styles.d67aca24.css" />

</head>
<body >
<script type="text/javascript">(function() {
  function setDataThemeAttribute(theme) {
    document.querySelector('html').setAttribute('data-theme', theme);
  }
  
  var preferDarkQuery = '(prefers-color-scheme: dark)';
  var mql = window.matchMedia(preferDarkQuery);
  var supportsColorSchemeQuery = mql.media === preferDarkQuery;
  var localStorageTheme = null;
  try {
    localStorageTheme = localStorage.getItem('theme');
  } catch (err) {}
  var localStorageExists = localStorageTheme !== null;

  if (localStorageExists) {
    setDataThemeAttribute(localStorageTheme);
  } else if (supportsColorSchemeQuery && mql.matches) {
    setDataThemeAttribute('dark');
  }
})();</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo-white-bgblue.svg" alt="single-spa Logo"/><strong class="">single-spa</strong></a><a class="navbar__item navbar__link" style="white-space:nowrap;padding:0.25rem 0.5rem 0.2rem 0.25rem;font-size:calc(0.9 * var(--ifm-font-size-base));text-decoration:underline" href="/versions">5.x</a><a class="navbar__item navbar__link" href="/docs/faq/">FAQ</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/help/">Help</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://opencollective.com/single-spa">Donate</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/single-spa/single-spa">GitHub</a><a class="navbar__item navbar__link" href="/languages">ç®€Ğ–à¤¹à¤¿ Languages</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"/></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"/></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo-white-bgblue.svg" alt="single-spa Logo"/><strong>single-spa</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" style="white-space:nowrap;padding:0.25rem 0.5rem 0.2rem 0.25rem;font-size:calc(0.9 * var(--ifm-font-size-base));text-decoration:underline" href="/versions">5.x</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/faq/">FAQ</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/help/">Help</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/">Blog</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://opencollective.com/single-spa">Donate</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/single-spa/single-spa">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/languages">ç®€Ğ–à¤¹à¤¿ Languages</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">æ¦‚è§ˆ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started-overview">æ¦‚è§ˆ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ç¤ºä¾‹</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/examples">ç›¸å…³ç¤ºä¾‹</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">æ•™ç¨‹</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/single-spa-playground">ç»ƒä¹ å¹¿åœº</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/videos">è§†é¢‘</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CLI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/create-single-spa">åˆ›å»ºsingle-spa</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">æ¦‚å¿µï¼šå¾®å‰ç«¯</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/microfrontends-concept">å¾®å‰ç«¯æ¦‚å¿µ</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/module-types">å¾®å‰ç«¯ç±»å‹</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">æ¦‚å¿µï¼šRoot Config</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/configuration">é…ç½® single-spa</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">æ¦‚å¿µï¼šApplication</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/building-applications">æ„å»ºåº”ç”¨</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/separating-applications">æ‹†åˆ†åº”ç”¨</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/migrating-existing-spas">è¿ç§»ç°æœ‰çš„ä»£ç </a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">æ¦‚å¿µï¼šParcel</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/parcels-overview">æ¦‚è§ˆ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å¸ƒå±€å¼•æ“ (Beta)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/layout-overview">æ¦‚è§ˆ</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/layout-definition">Layout å®šä¹‰</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/layout-api">API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">The Recommended Setup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/recommended-setup">æ¦‚è¿°</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/api">Applications API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/parcels-api">Parcels API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Ecosystem</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem">æ¦‚è¿°</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-react">React</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-vue">Vue</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-angular">Angular</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-angularjs">AngularJS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-cycle">Cycle</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-ember">Ember</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-inferno">Inferno</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-preact">Preact</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-svelte">Svelte</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-riot">Riot</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-backbone">Backbone</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-html-web-components">HTML / Web Components</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-leaked-globals">Leaked globals</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-dojo">Dojo</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ecosystem-alpinejs">AlpineJS</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Dev Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/devtools">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">è´¡çŒ®</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/contributing-overview">æ•´ä½“é¢„è§ˆ</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/code-of-conduct">ä»£ç è¡Œä¸ºå‡†åˆ™</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><span style="vertical-align:top" class="badge badge--info">Version: <!-- -->5.x</span><header><h1 class="docTitle_1vWb">Applications API</h1></header><div class="markdown"><p>single-spaè¾“å‡ºçš„æ˜¯å‘½åå‡½æ•°å’Œå˜é‡è€Œä¸æ˜¯é»˜è®¤è¾“å‡ºï¼Œè¿™æ„å‘³ç€å¼•ç”¨å¿…é¡»ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> registerApplication</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> start </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// or</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">as</span><span class="token plain"> singleSpa </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="registerapplication"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#registerapplication" title="Direct link to heading">#</a>registerApplication</h2><p><code>registerApplication</code> æ˜¯åŸºç¡€é…ç½®ä¼šç”¨åˆ°çš„æœ€é‡è¦çš„APIï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨single-spaä¸­æ³¨å†Œä¸€ä¸ªåº”ç”¨ã€‚</p><p>è¯·æ³¨æ„ï¼Œå¦‚æœä¸€ä¸ªåº”ç”¨æ˜¯ä»å¦ä¸€ä¸ªåº”ç”¨ä¸­æ³¨å†Œçš„ï¼Œåˆ™ä¸ä¼šåœ¨åœ¨å¤šä¸ªåº”ç”¨ä¹‹é—´ç»´æŠ¤å±‚æ¬¡ç»“æ„ã€‚</p><p>æœ‰ä¸¤ç§æ–¹æ³•æ³¨å†Œåº”ç”¨ï¼š</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="ç®€å•å‚æ•°"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ç®€å•å‚æ•°" title="Direct link to heading">#</a>ç®€å•å‚æ•°</h3><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">registerApplication</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;appName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword module" style="font-style:italic">import</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;appName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter">location</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(191, 199, 213)">location</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">pathname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">startsWith</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;appName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3>å‚æ•°</h3><dl class="args-list"><dt>appName: string</dt><dd>åº”ç”¨çš„åå­—å°†ä¼šåœ¨single-spaä¸­æ³¨å†Œå’Œå¼•ç”¨, å¹¶åœ¨å¼€å‘å·¥å…·ä¸­æ ‡è®°ã€‚</dd><dt>applicationOrLoadingFn: () =&gt; &lt;Function | Promise&gt;</dt><dd>å¿…é¡»æ˜¯ä¸€ä¸ªåŠ è½½å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªåº”ç”¨æˆ–è€…ä¸€ä¸ªPromiseã€‚</dd><dt>activityFn: (location) =&gt; boolean</dt><dd>å¿…é¡»æ˜¯ä¸ªçº¯å‡½æ•°, è¯¥å‡½æ•°ç”± <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">window.location</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div> ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°è¢«è°ƒç”¨, å½“åº”ç”¨åº”è¯¥è¢«æ¿€æ´»æ—¶å®ƒåº”è¯¥è¿”å›ä¸€ä¸ªçœŸå€¼ã€‚</dd><dt>customProps?: Object = </dt><dd>åœ¨ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œæ—¶ä¼šè¢«ä½œä¸ºå‚æ•°ä¼ å…¥</dd></dl><h3>returns</h3><p><code>undefined</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="å¯¹è±¡å‚æ•°"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#å¯¹è±¡å‚æ•°" title="Direct link to heading">#</a>å¯¹è±¡å‚æ•°</h3><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">registerApplication</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;appName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword module" style="font-style:italic">import</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;appName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    activeWhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/appName&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    customProps</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3>å‚æ•°</h3><dl class="args-list"><dt>name: string</dt><dd>åº”ç”¨çš„åå­—å°†ä¼šåœ¨single-spaä¸­æ³¨å†Œå’Œå¼•ç”¨, å¹¶åœ¨å¼€å‘å·¥å…·ä¸­æ ‡è®°ã€‚</dd><dt>app: Application | () =&gt; Application | Promise&lt;Application&gt; </dt><dd>å¯ä»¥æ˜¯åº”ç”¨çš„å®ä¾‹å¯¹è±¡ï¼Œä¹Ÿå¯æ˜¯è¿”å›åº”ç”¨çš„å®ä¾‹å¯¹è±¡çš„å‡½æ•°ï¼ˆPromiseæˆ–è€…æ™®é€šå‡½æ•°éƒ½å¯ä»¥ï¼‰ã€‚</dd><dt>activeWhen: string | (location) =&gt; boolean | (string | (location) =&gt; boolean)[]</dt><dd>å¯ä»¥æ˜¯ä¸€ä¸ªè·¯å¾„å‰ç¼€ï¼Œå®ƒå°†åŒ¹é…æ¯ä¸ªä»¥è¯¥è·¯å¾„å¼€å¤´çš„URLï¼Œä¹Ÿå¯ä»¥æ˜¯æ¿€æ´»å‡½æ•°(å¦‚ç®€å•å‚æ•°ä¸­æ‰€è¿°)æˆ–ä¸€ä¸ªæ•°ç»„ä¸¤è€…éƒ½åŒ…å«åœ¨å†…ã€‚å¦‚æœä»»ä½•æ¡ä»¶ä¸ºçœŸï¼Œåˆ™ä¿ç•™åº”ç”¨æ´»åŠ¨ã€‚è·¯å¾„å‰ç¼€ä¹Ÿæ¥å—åŠ¨æ€å€¼(ä»¥&#x27;:&#x27;å¼€å¤´)ï¼Œå› ä¸ºæœ‰äº›è·¯å¾„ä¼šæ¥æ”¶urlå‚æ•°ï¼Œä½†ä»ç„¶åº”è¯¥æ¿€æ´»æ‚¨çš„åº”ç”¨ã€‚ Examples:<dl><dt>&#x27;/app1&#x27;</dt><dd>âœ… https://app.com/app1</dd><dd>âœ… https://app.com/app1/anything/everything</dd><dd>ğŸš« https://app.com/app2</dd><dt>&#x27;/users/:userId/profile&#x27;</dt><dd>âœ… https://app.com/users/123/profile</dd><dd>âœ… https://app.com/users/123/profile/sub-profile/</dd><dd>ğŸš« https://app.com/users//profile/sub-profile/</dd><dd>ğŸš« https://app.com/users/profile/sub-profile/</dd><dt>&#x27;/pathname/#/hash&#x27;</dt><dd>âœ… https://app.com/pathname/#/hash</dd><dd>âœ… https://app.com/pathname/#/hash/route/nested</dd><dd>ğŸš« https://app.com/pathname#/hash/route/nested</dd><dd>ğŸš« https://app.com/pathname#/another-hash</dd><dt>[&#x27;/pathname/#/hash&#x27;, &#x27;/app1&#x27;]</dt><dd>âœ… https://app.com/pathname/#/hash/route/nested</dd><dd>âœ… https://app.com/app1/anything/everything</dd><dd>ğŸš« https://app.com/pathname/app1</dd><dd>ğŸš« https://app.com/app2</dd></dl></dd><dt>customProps?: Object = {}</dt><dd>åœ¨ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œæ—¶ä¼šè¢«ä½œä¸ºå‚æ•°ä¼ å…¥</dd></dl><h3>returns</h3><p><code>undefined</code></p><blockquote><p>è¯¦ç»†è§£æè¯·è§ <a href="configuration#registering-applications">Configuration docs</a></p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="start"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#start" title="Direct link to heading">#</a>start</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Optionally, you can provide configuration</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    urlRerouteOnly</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>å¿…é¡»åœ¨ä½ single spaçš„é…ç½®ä¸­è°ƒç”¨ï¼åœ¨è°ƒç”¨ <code>start</code> ä¹‹å‰, åº”ç”¨ä¼šè¢«åŠ è½½, ä½†ä¸ä¼šåˆå§‹åŒ–ï¼ŒæŒ‚è½½æˆ–å¸è½½ã€‚ <code>start</code> çš„åŸå› æ˜¯è®©ä½ æ›´å¥½çš„æ§åˆ¶ä½ å•é¡µåº”ç”¨çš„æ€§èƒ½ã€‚ä¸¾ä¸ªæ —å­ï¼Œä½ æƒ³ç«‹å³å£°æ˜å·²ç»æ³¨å†Œè¿‡çš„åº”ç”¨ï¼ˆå¼€å§‹ä¸‹è½½é‚£äº›æ¿€æ´»åº”ç”¨çš„ä»£ç ï¼‰ï¼Œä½†æ˜¯å®é™…ä¸Šç›´åˆ°åˆå§‹åŒ–AJAXï¼ˆæˆ–è®¸å»è·å–ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ï¼‰è¯·æ±‚å®Œæˆä¹‹å‰ä¸ä¼šæŒ‚è½½å®ƒä»¬ ã€‚ åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œç«‹é©¬è°ƒç”¨ <code>registerApplication</code> æ–¹æ³•ï¼Œå®ŒæˆAJAXåå†å»è°ƒç”¨ <code>start</code>æ–¹æ³•ä¼šè·å¾—æœ€ä½³æ€§èƒ½ã€‚</p><h3>arguments</h3><p>The <code>start(opts)</code> api optionally accepts a single <code>opts</code> object, with the following properties. If the opts object is omitted, all defaults will be applied.</p><ul><li><code>urlRerouteOnly</code>: A boolean that defaults to false. If set to true, calls to <code>history.pushState()</code> and <code>history.replaceState()</code> will not trigger a single-spa reroute unless the client side route was changed. Setting this to true can be better for performance in some situations. For more information, read <a href="https://github.com/single-spa/single-spa/issues/484">original issue</a>.</li></ul><h3>returns</h3><p><code>undefined</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="triggerappchange"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#triggerappchange" title="Direct link to heading">#</a>triggerAppChange</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">triggerAppChange</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå½“æ‰€æœ‰åº”ç”¨æŒ‚è½½/å¸è½½æ—¶å®ƒæ‰§è¡Œ resolve/reject æ–¹æ³•ï¼Œå®ƒä¸€èˆ¬è¢«ç”¨æ¥æµ‹è¯•single-spaï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒå¯èƒ½ä¸éœ€è¦ã€‚</p><h3>arguments</h3><p>none</p><h3>returns</h3><dl class="args-list"><dt>Promise</dt><dd>è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå½“æ‰€æœ‰åº”ç”¨æŒ‚è½½/å¸è½½æ—¶å®ƒæ‰§è¡Œ resolve/reject æ–¹æ³•ã€‚</dd></dl><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="navigatetourl"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#navigatetourl" title="Direct link to heading">#</a>navigateToUrl</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Three ways of using navigateToUrl</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">navigateToUrl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/new-url&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">navigateToUrl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token dom variable" style="color:rgb(191, 199, 213)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">querySelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token dom variable" style="color:rgb(191, 199, 213)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">querySelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">navigateToUrl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-html codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!-- A fourth way to use navigateToUrl, this one inside of your HTML --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">a</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">href</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">/new-url</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">onclick</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">singleSpaNavigate()</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">My link</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">a</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>ä½¿ç”¨è¿™ä¸ªé€šç”¨æ–¹æ³•æ¥è½»æ¾çš„å®ç°åœ¨ä¸åŒæ³¨å†Œåº”ç”¨ä¹‹å‰çš„åˆ‡æ¢ï¼Œè€Œä¸å¿…éœ€è¦å¤„ç† <code>event.preventDefault()</code>, <code>pushState</code>, <code>triggerAppChange()</code> ç­‰å¾…ã€‚ </p><h3>arguments</h3><dl class="args-list"><dt>navigationObj: string | context | DOMEvent</dt><dd>navigationObj å¿…é¡»æ˜¯ä¸€ä¸‹ç±»å‹ä¸­çš„ä¸€ä¸ª:<ul><li>ä¸€ä¸ª url å­—ç¬¦ä¸²</li><li>ä¸€ä¸ª ä¸Šä¸‹æ–‡ / å‚æ•°ä¸º <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">href</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div> å±æ€§; åœ¨è°ƒç”¨ <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpaNavigate.call(anchorElement)</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div> æ—¶å¾ˆæœ‰ç”¨ï¼Œä¸€ä¸ªæŒ‡å‘å…¶ä»–åŸè‰²çš„é”šç‚¹ï¼Œæˆ–è€…å…¶ä»–å†…å®¹ã€‚</li><li>ä¸€ä¸ª DOMEventå¯¹è±¡ï¼Œå…·æœ‰ <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">href</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div> attribute; æ–¹ä¾¿ <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;a onclick=&quot;singleSpaNavigate&quot;&gt;&lt;/a&gt;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div> æ–¹æ³•è°ƒç”¨ã€‚</li></ul></dd></dl><h3>returns</h3><p><code>undefined</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="getmountedapps"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#getmountedapps" title="Direct link to heading">#</a>getMountedApps</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> mountedAppNames </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getMountedApps</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">mountedAppNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// [&#x27;app1&#x27;, &#x27;app2&#x27;, &#x27;navbar&#x27;]</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3>arguments</h3><p>none</p><h3>returns</h3><dl class="args-list"><dt>appNames: string[]</dt><dd>å½“å‰å·²ç»æŒ‚è½½åº”ç”¨çš„åå­—ã€‚ <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">MOUNTED</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></dd></dl><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="getappnames"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#getappnames" title="Direct link to heading">#</a>getAppNames</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> appNames </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getAppNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">appNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// [&#x27;app1&#x27;, &#x27;app2&#x27;, &#x27;app3&#x27;, &#x27;navbar&#x27;]</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3>arguments</h3><p>none</p><h3>returns</h3><dl class="args-list"><dt>appNames: string[]</dt><dd>å½“å‰åº”ç”¨çš„åå­—ï¼ˆä»»ä½•çŠ¶æ€çš„åº”ç”¨ï¼‰ã€‚</dd></dl><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="getappstatus"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#getappstatus" title="Direct link to heading">#</a>getAppStatus</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> status </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getAppStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;app1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// one of many statuses (see list below). e.g. MOUNTED</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3>arguments</h3><dl class="args-list"><dt>appName: string</dt><dd>æ³¨å†Œåº”ç”¨çš„åå­—ã€‚</dd></dl><h3>returns</h3><dl class="args-list"><dt>appStatus: &lt;string | null&gt;</dt><dd>å°†ä¼šæ˜¯ä¸‹åˆ—å­—ç¬¦ä¸²å¸¸é‡ä¸­çš„ä¸€ä¸ª,å¦‚æœåº”ç”¨ä¸å­˜åœ¨æ˜¯ <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">null</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div><dl class="dl-inline"><div><dt>NOT_LOADED</dt><dd>single-spaåº”ç”¨æ³¨å†Œäº†ï¼Œè¿˜æœªåŠ è½½ã€‚</dd></div><div><dt>LOADING_SOURCE_CODE</dt><dd>åº”ç”¨ä»£ç æ­£åœ¨è¢«æ‹‰å–ã€‚</dd></div><div><dt>NOT_BOOTSTRAPPED</dt><dd>åº”ç”¨å·²ç»åŠ è½½ï¼Œè¿˜æœªåˆå§‹åŒ–ã€‚</dd></div><div><dt>BOOTSTRAPPING</dt><dd><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">bootstrap</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div> çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å·²ç»æ‰§è¡Œï¼Œè¿˜æœªç»“æŸã€‚</dd></div><div><dt>NOT_MOUNTED</dt><dd>åº”ç”¨å·²ç»åŠ è½½å’Œåˆå§‹åŒ–ï¼Œè¿˜æœªæŒ‚è½½ã€‚</dd></div><div><dt>MOUNTING</dt><dd>åº”ç”¨æ­£åœ¨è¢«æŒ‚è½½ï¼Œè¿˜æœªç»“æŸã€‚</dd></div><div><dt>MOUNTED</dt><dd>åº”ç”¨ç›®å‰å¤„äºæ¿€æ´»çŠ¶æ€ï¼Œå·²ç»æŒ‚è½½åˆ°DOMå…ƒç´ ä¸Šã€‚</dd></div><div><dt>UNMOUNTING</dt><dd>åº”ç”¨æ­£åœ¨è¢«å¸è½½ï¼Œè¿˜æœªç»“æŸã€‚</dd></div><div><dt>UNLOADING</dt><dd>åº”ç”¨æ­£åœ¨è¢«ç§»é™¤ï¼Œè¿˜æœªç»“æŸã€‚</dd></div><div><dt>SKIP_BECAUSE_BROKEN</dt><dd>åº”ç”¨åœ¨åŠ è½½ã€åˆå§‹åŒ–ã€æŒ‚è½½æˆ–å¸è½½è¿‡ç¨‹ä¸­æŠ›å‡ºé”™è¯¯ï¼Œç”±äºè¡Œä¸ºä¸å½“è€Œè¢«è·³è¿‡ï¼Œå› æ­¤è¢«éš”ç¦»ã€‚å…¶ä»–åº”ç”¨å°†æ­£å¸¸è¿è¡Œã€‚</dd></div><div><dt>LOAD_ERROR</dt><dd>åº”ç”¨çš„åŠ è½½åŠŸèƒ½è¿”å›äº†ä¸€ä¸ªrejectedçš„Promiseã€‚è¿™é€šå¸¸æ˜¯ç”±äºä¸‹è½½åº”ç”¨ç¨‹åºçš„javascriptåŒ…æ—¶å‡ºç°ç½‘ç»œé”™è¯¯é€ æˆçš„ã€‚Single-spaå°†åœ¨ç”¨æˆ·ä»å½“å‰è·¯ç”±å¯¼èˆªå¹¶è¿”å›åé‡è¯•åŠ è½½åº”ç”¨ã€‚</dd></div></dl></dd></dl><p><strong>æ³¨æ„ LOAD_ERROR çš„çŠ¶æ€</strong></p><p>è¯·æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨SystemJSåŠ è½½åŒ…ï¼Œåˆ™éœ€è¦æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œä»¥ä½¿SystemJSåœ¨åŠ è½½å‡½æ•°è°ƒç”¨ <code>LOAD_ERROR</code> çŠ¶æ€ä¸‹çš„åº”ç”¨ç¨‹åºä¸Šçš„ <code>System.import()</code> æ—¶é‡æ–°å°è¯•ç½‘ç»œè¯·æ±‚ã€‚</p><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addErrorHandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">err</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getAppStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">appOrParcelName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">LOAD_ERROR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">delete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">appOrParcelName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="unloadapplication"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#unloadapplication" title="Direct link to heading">#</a>unloadApplication</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Unload the application right now, without waiting for it to naturally unmount.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">unloadApplication</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;app1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Unload the application only after it naturally unmounts due to a route change.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">unloadApplication</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;app1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">waitForUnmount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>ç§»é™¤å·²æ³¨å†Œçš„åº”ç”¨çš„ç›®çš„æ˜¯å°†å…¶è®¾ç½®å› <code>NOT_LOADED</code> çŠ¶æ€ï¼Œè¿™æ„å‘³ç€å®ƒå°†åœ¨ä¸‹ä¸€æ¬¡éœ€è¦æŒ‚è½½æ—¶é‡æ–°åˆå§‹åŒ–ã€‚å®ƒçš„ä¸»è¦ä½¿ç”¨åœºæ™¯æ˜¯å…è®¸çƒ­åŠ è½½æ‰€æœ‰å·²æ³¨å†Œçš„åº”ç”¨ï¼Œä½†æ˜¯ <code>unloadApplication</code> å¯ä»¥åœ¨æ‚¨å¸Œæœ›åˆå§‹åŒ–åº”ç”¨æ—¶éå¸¸æœ‰ç”¨ã€‚</p><p>å½“è°ƒç”¨ <code>unloadApplication</code> æ—¶ï¼ŒSingle-spaæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ã€‚</p><ol><li>åœ¨ä¸€ä¸ªå·²ç»æ³¨å†Œçš„åº”ç”¨ä¸Šï¼Œè°ƒç”¨ <a aria-current="page" class="active" href="/docs/api#unload">unload lifecyle</a> æ–¹æ³•ã€‚</li><li>å°†æ¬¡åº”ç”¨çš„çŠ¶æ€ç½®ä¸º NOT_LOADED</li><li>è§¦å‘è·¯ç”±é‡å®šå‘ï¼Œåœ¨æ­¤æœŸé—´single-spaå¯èƒ½ä¼šæŒ‚è½½åˆšåˆšå¸è½½çš„åº”ç”¨ç¨‹åºã€‚</li></ol><p>å› ä¸ºåœ¨è°ƒç”¨ <code>unloadApplication</code> æ—¶å¯èƒ½ä¼šæŒ‚è½½å·²æ³¨å†Œçš„åº”ç”¨ï¼Œæ‰€ä»¥å¯ä»¥æŒ‡å®šæ˜¯è¦ç«‹å³å¸è½½è¿˜æ˜¯è¦ç­‰åˆ°åº”ç”¨ä¸å†æŒ‚è½½ã€‚è¿™æ˜¯é€šè¿‡ <code>waitForUnmount</code> å‚æ•°å®Œæˆçš„ã€‚</p><h3>arguments</h3><dl class="args-list"><dt>appName: string</dt><dd>æ³¨å†Œåº”ç”¨çš„åå­—</dd><dt>options?: {waitForUnmount: boolean = false}</dt><dd>å‚æ•°å¿…æ˜¯ä¸€ä¸ªåŒ…å« <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">waitForUnmount</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div> å±æ€§çš„å¯¹è±¡ã€‚å½“ `waitForUnmount` æ˜¯ `false`, single-spa ç«‹åˆ»ç§»é™¤ç‰¹å®šåº”ç”¨ï¼Œå°½ç®¡å®ƒå·²ç»è¢«æŒ‚è½½ã€‚ å½“å®ƒæ˜¯ <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">true</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div>æ—¶, single-spa ä¼šç­‰å¾…åˆ°å®ƒçš„çŠ¶æ€ä¸å†æ˜¯ <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">MOUNTED</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div>æ—¶æ‰ç§»é™¤åº”ç”¨</dd></dl><h3>returns</h3><dl class="args-list"><dt>Promise</dt><dd>å½“åº”ç”¨è¢«æˆåŠŸç§»é™¤æ—¶ï¼ŒPromiseå¯¹è±¡ä¼šè¢«resolvedã€‚</dd></dl><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="checkactivityfunctions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#checkactivityfunctions" title="Direct link to heading">#</a>checkActivityFunctions</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> appsThatShouldBeActive </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">checkActivityFunctions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">appsThatShouldBeActive</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// [&#x27;app1&#x27;]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> appsForACertainRoute </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">checkActivityFunctions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">pathname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/app2&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">appsForACertainRoute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// [&#x27;app2&#x27;]</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>å°†ä¼šè°ƒç”¨æ¯ä¸ªåº”ç”¨çš„ <code>mockWindowLocation</code> å¹¶ä¸”è¿”å›ä¸€ä¸ªæ ¹æ®å½“å‰è·¯åˆ¤æ–­é‚£äº›åº”ç”¨åº”è¯¥è¢«æŒ‚è½½çš„åˆ—è¡¨ã€‚</p><h3>arguments</h3><dl class="args-list"><dt>mockWindowLocation: string</dt><dd>ä¸€ä¸ªä»£è¡¨å½“å‰è·¯å¾„çš„å­—ç¬¦ä¸²ï¼Œå½“æ‰§è¡Œæ¯ä¸ªåº”ç”¨çš„æ¿€æ´»å‡½æ•°æ—¶ä¼šç”¨å®ƒæ¥åˆ¤æ–­æ˜¯å¦åº”è¯¥è¿”å›çœŸã€‚</dd></dl><h3>returns</h3><dl class="args-list"><dt>appNames: string[]</dt><dd>æ¯ä¸ªæ»¡è¶³å½“å‰è·¯å¾„ <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">mockWindowLocation</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div>åº”è¯¥æ¿€æ´»çš„åº”ç”¨åç§°ã€‚</dd></dl><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="adderrorhandler"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#adderrorhandler" title="Direct link to heading">#</a>addErrorHandler</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addErrorHandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">err</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">appOrParcelName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getAppStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">appOrParcelName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>æ·»åŠ å¤„ç†ç¨‹åºï¼Œè¯¥å¤„ç†ç¨‹åºå°†åœ¨åº”ç”¨åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°æˆ–æ¿€æ´»å‡½æ•°æœŸé—´æ¯æ¬¡æŠ›å‡ºé”™è¯¯æ—¶è°ƒç”¨ã€‚å½“æ²¡æœ‰é”™è¯¯å¤„ç†ç¨‹åºæ—¶ï¼Œsingle-spaå°†é”™è¯¯æŠ›å‡ºåˆ°çª—å£ã€‚</p><dl class="args-list"><dt>errorHandler: Function(error: Error)</dt><dd>å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å°†ä¼šä»¥ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error object</a>  <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">message</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div> å’Œ <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">appOrParcelName</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div> ä¸ºå‚æ•°è°ƒç”¨.</dd></dl><h3>returns</h3><p><code>undefined</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="removeerrorhandler"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#removeerrorhandler" title="Direct link to heading">#</a>removeErrorHandler</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addErrorHandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">handleErr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">removeErrorHandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">handleErr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">handleErr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>åˆ é™¤ç»™å®šçš„é”™è¯¯å¤„ç†ç¨‹åºå‡½æ•°ã€‚</p><h3>arguments</h3><dl class="args-list"><dt>errorHandler: Function</dt><dd>å¼•ç”¨é”™è¯¯å¤„ç†å‡½æ•°ã€‚</dd></dl><h3>returns</h3><dl class="args-list"><dt>boolean</dt><dd>å½“é”™è¯¯å¤„ç†å‡½æ•°å‘—ç§»é™¤åˆ™ä¸º<div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">true</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div> å¦åˆ™ <div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">false</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div> </dd></dl><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="mountrootparcel"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#mountrootparcel" title="Direct link to heading">#</a>mountRootParcel</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Synchronous mounting</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> parcel </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">mountRootParcel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">parcelConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">prop1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;value1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> domElement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(191, 199, 213)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getElementById</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a-div&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">parcel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">mountPromise</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">then</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;finished mounting the parcel!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Asynchronous mounting. Feel free to use webpack code splits or SystemJS dynamic loading</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> parcel2 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">mountRootParcel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">import</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;./some-parcel.js&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">prop1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;value1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> domElement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(191, 199, 213)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getElementById</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a-div&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>å°†ä¼šåˆ›å»ºå¹¶æŒ‚è½½ä¸€ä¸ª <a href="/docs/parcels-overview">single-spa parcel</a>.</p><blockquote><p>æ³¨æ„:Parcelä¸ä¼šè‡ªåŠ¨å¸è½½ã€‚å¸è½½éœ€è¦æ‰‹åŠ¨è§¦å‘ã€‚</p></blockquote><h3>arguments</h3><dl class="args-list"><dt>parcelConfig: Object or Loading Function</dt><dd>[parcelConfig](/docs/parcels-api#parcel-configuration)</dd><dt>parcelProps: Object with a domElement property</dt><dd>[parcelProps](/docs/parcels-api#parcel-props)</dd></dl><h3>returns</h3><dl class="args-list"><dt>Parcel object</dt><dd>è¯¦ç»†ä¿¡æ¯è¯·è§ <a href="/docs/parcels-api.html">Parcels API</a> ã€‚</dd></dl><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="pathtoactivewhen"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#pathtoactivewhen" title="Direct link to heading">#</a>pathToActiveWhen</h2><p>The <code>pathToActiveWhen</code> function converts a string URL path into an <a href="/docs/configuration/#activity-function">activity function</a>. The string path may contain route parameters that single-spa will match any characters to. It assumes that the string provided is a <strong>prefix</strong>.</p><p>This function is used by single-spa when a string is passed into <code>registerApplication</code> as the <code>activeWhen</code> argument.</p><p><strong><em>Arguments</em></strong></p><ol><li><code>path</code> (string): The URL prefix that.</li></ol><p><strong><em>Return Value</em></strong></p><p><code>(location: Location) =&gt; boolean</code></p><p>A function that accepts a URL as an argument and returns a boolean indicating whether the path matches that URL.</p><p><strong><em>Examples:</em></strong></p><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> activeWhen </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pathToActiveWhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/settings&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activewhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/settings&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activewhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/settings/password&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activeWhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">activeWhen </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pathToActiveWhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/user/:id/settings&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activewhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/users/6f7dsdf8g9df8g9dfg/settings&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activewhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/users/1324/settings&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activewhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/users/1324/settings/password&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activewhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/users/1/settings&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activewhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/users/1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activewhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/settings&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activeWhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">activeWhen </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pathToActiveWhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/page#/hash&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activeWhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/page#/hash&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activeWhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/#/hash&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">activeWhen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost/page&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// false</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="ensurejquerysupport"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ensurejquerysupport" title="Direct link to heading">#</a>ensureJQuerySupport</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">ensureJQuerySupport</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">jQuery</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>jQueryä½¿ç”¨ <a href="https://learn.jquery.com/events/event-delegation/">event delegation</a> æ‰€ä»¥ single-spa å¿…é¡»ç»™æ¯ä¸ªjQueryç‰ˆæœ¬ä¸€ä¸ªpatchã€‚<!-- -->single-spa ä¼šè¯•ç€è‡ªåŠ¨å¯»æ‰¾ <code>window.jQuery</code> æˆ– <code>window.$</code>ã€‚ å¦‚æœé¡µé¢ä¸­æœ‰å¤šä¸ªç‰ˆæœ¬çš„jQueryå­˜åœ¨æˆ–jQueryè¢«ç»‘å®šåˆ°å¤šä¸ªå…¨å±€å˜é‡ï¼Œè¯·è°ƒç”¨è¿™ä¸ªçš„æ–¹æ³•ã€‚</p><h3>arguments</h3><dl class="args-list"><dt>jQuery?: JQueryFn = window.jQuery</dt><dd>å¯¹jQueryå·²ç»‘å®šåˆ°çš„å…¨å±€å˜é‡çš„å¼•ç”¨ã€‚</dd></dl><h3>returns</h3><p><code>undefined</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="setbootstrapmaxtime"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#setbootstrapmaxtime" title="Direct link to heading">#</a>setBootstrapMaxTime</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// After three seconds, show a console warning while continuing to wait.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setBootstrapMaxTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// After three seconds, move the application to SKIP_BECAUSE_BROKEN status.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setBootstrapMaxTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// don&#x27;t do a console warning for slow lifecycles until 10 seconds have elapsed</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setBootstrapMaxTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>å…¨å±€é…ç½®åˆå§‹åŒ–è¶…æ—¶æ—¶é—´ã€‚</p><h3>arguments</h3><dl class="args-list"><dt>millis: number</dt><dd>ä¸€ä¸ªåˆ¤æ–­ç­‰å¾…åˆå§‹åŒ–æ˜¯å¦è¶…æ—¶çš„æ¯«ç§’æ•°ã€‚</dd><dt>dieOnTimeout: boolean = false</dt><dd><p>å¦‚æœè®¾ç½®ä¸ºfalseï¼Œæ³¨å†Œçš„åº”ç”¨è¿è¡Œå˜ç¼“ï¼Œåœ¨åˆ°è¾¾<div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">millis</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div>ä¹‹å‰ï¼Œåªä¼šåœ¨æ§åˆ¶å°ä¸­å¼•èµ·ä¸€äº›è­¦å‘Šã€‚</p><p>å¦‚æœè®¾ç½®ä¸ºtrue, æ³¨å†Œçš„åº”ç”¨ç¨‹åºè¿è¡Œå˜ç¼“ï¼Œå®ƒä»¬å°†è¢«å¡è¿›ä¸€ä¸ªskip_break_statusï¼Œå› ä¸ºå®ƒä»¬ä¸ä¼šå†æ‰“æ–­ç¨‹åºã€‚</p><p>æ¯ä¸ªå·²æ³¨å†Œçš„åº”ç”¨ç¨‹åºéƒ½å¯ä»¥è¦†ç›–è‡ªå·±çš„æ­¤è¡Œä¸ºã€‚</p></dd><dt>warningMillis: number = 1000</dt><dd>ä¸€ä¸ªåˆ¤æ–­ç­‰å¾…æ§åˆ¶å°warningæ˜¯å¦å‘ç”Ÿçš„æ¯«ç§’æ•°ã€‚</dd></dl><h3>returns</h3><p><code>undefined</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="setmountmaxtime"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#setmountmaxtime" title="Direct link to heading">#</a>setMountMaxTime</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// After three seconds, show a console warning while continuing to wait.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setMountMaxTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// After three seconds, move the application to SKIP_BECAUSE_BROKEN status.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setMountMaxTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// don&#x27;t do a console warning for slow lifecycles until 10 seconds have elapsed</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setMountMaxTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>å…¨å±€é…ç½®æŒ‚è½½è¶…æ—¶æ—¶é—´ã€‚</p><h3>arguments</h3><dl class="args-list"><dt>millis: number</dt><dd>ä¸€ä¸ªåˆ¤æ–­ç­‰å¾…æŒ‚è½½æ˜¯å¦è¶…æ—¶çš„æ¯«ç§’æ•°ã€‚</dd><dt>dieOnTimeout: boolean = false</dt><dd><p>å¦‚æœè®¾ç½®ä¸ºfalseï¼Œæ³¨å†Œçš„åº”ç”¨è¿è¡Œå˜ç¼“ï¼Œåœ¨åˆ°è¾¾<div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">millis</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div>ä¹‹å‰ï¼Œåªä¼šåœ¨æ§åˆ¶å°ä¸­å¼•èµ·ä¸€äº›è­¦å‘Šã€‚</p><p>å¦‚æœè®¾ç½®ä¸ºtrue, æ³¨å†Œçš„åº”ç”¨ç¨‹åºè¿è¡Œå˜ç¼“ï¼Œå®ƒä»¬å°†è¢«å¡è¿›ä¸€ä¸ªskip_break_statusï¼Œå› ä¸ºå®ƒä»¬ä¸ä¼šå†æ‰“æ–­ç¨‹åºã€‚</p><p>æ¯ä¸ªå·²æ³¨å†Œçš„åº”ç”¨ç¨‹åºéƒ½å¯ä»¥è¦†ç›–è‡ªå·±çš„æ­¤è¡Œä¸ºã€‚</p></dd><dt>warningMillis: number = 1000</dt><dd>ä¸€ä¸ªåˆ¤æ–­ç­‰å¾…æ§åˆ¶å°warningæ˜¯å¦å‘ç”Ÿçš„æ¯«ç§’æ•°ã€‚</dd></dl><h3>returns</h3><p><code>undefined</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="setunmountmaxtime"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#setunmountmaxtime" title="Direct link to heading">#</a>setUnmountMaxTime</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// After three seconds, show a console warning while continuing to wait.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setUnmountMaxTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// After three seconds, move the application to SKIP_BECAUSE_BROKEN status.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setUnmountMaxTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// don&#x27;t do a console warning for slow lifecycles until 10 seconds have elapsed</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setUnmountMaxTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>å…¨å±€é…ç½®å¸è½½è¶…æ—¶æ—¶é—´ã€‚</p><h3>arguments</h3><dl class="args-list"><dt>millis: number</dt><dd>ä¸€ä¸ªåˆ¤æ–­ç­‰å¾…å¸è½½æ˜¯å¦è¶…æ—¶çš„æ¯«ç§’æ•°ã€‚</dd><dt>dieOnTimeout: boolean = false</dt><dd><p>å¦‚æœè®¾ç½®ä¸ºfalseï¼Œæ³¨å†Œçš„åº”ç”¨è¿è¡Œå˜ç¼“ï¼Œåœ¨åˆ°è¾¾<div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">millis</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div>ä¹‹å‰ï¼Œåªä¼šåœ¨æ§åˆ¶å°ä¸­å¼•èµ·ä¸€äº›è­¦å‘Šã€‚</p><p>å¦‚æœè®¾ç½®ä¸ºtrue, æ³¨å†Œçš„åº”ç”¨ç¨‹åºè¿è¡Œå˜ç¼“ï¼Œå®ƒä»¬å°†è¢«å¡è¿›ä¸€ä¸ªskip_break_statusï¼Œå› ä¸ºå®ƒä»¬ä¸ä¼šå†æ‰“æ–­ç¨‹åºã€‚</p><p>æ¯ä¸ªå·²æ³¨å†Œçš„åº”ç”¨ç¨‹åºéƒ½å¯ä»¥è¦†ç›–è‡ªå·±çš„æ­¤è¡Œä¸ºã€‚</p></dd><dt>warningMillis: number = 1000</dt><dd>ä¸€ä¸ªåˆ¤æ–­ç­‰å¾…æ§åˆ¶å°warningæ˜¯å¦å‘ç”Ÿçš„æ¯«ç§’æ•°ã€‚</dd></dl><h3>returns</h3><p><code>undefined</code></p><hr/><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="setunloadmaxtime"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#setunloadmaxtime" title="Direct link to heading">#</a>setUnloadMaxTime</h2><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// After three seconds, show a console warning while continuing to wait.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setUnloadMaxTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// After three seconds, move the application to SKIP_BECAUSE_BROKEN status.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setUnloadMaxTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// don&#x27;t do a console warning for slow lifecycles until 10 seconds have elapsed</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setUnloadMaxTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>å…¨å±€é…ç½®ç§»é™¤è¶…æ—¶æ—¶é—´ã€‚</p><h3>arguments</h3><dl class="args-list"><dt>millis: number</dt><dd>ä¸€ä¸ªåˆ¤æ–­ç­‰å¾…ç§»é™¤æ˜¯å¦è¶…æ—¶çš„æ¯«ç§’æ•°ã€‚</dd><dt>dieOnTimeout: boolean = false</dt><dd><p>å¦‚æœè®¾ç½®ä¸ºfalseï¼Œæ³¨å†Œçš„åº”ç”¨è¿è¡Œå˜ç¼“ï¼Œåœ¨åˆ°è¾¾<div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">millis</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div>ä¹‹å‰ï¼Œåªä¼šåœ¨æ§åˆ¶å°ä¸­å¼•èµ·ä¸€äº›è­¦å‘Šã€‚</p><p>å¦‚æœè®¾ç½®ä¸ºtrue, æ³¨å†Œçš„åº”ç”¨ç¨‹åºè¿è¡Œå˜ç¼“ï¼Œå®ƒä»¬å°†è¢«å¡è¿›ä¸€ä¸ªskip_break_statusï¼Œå› ä¸ºå®ƒä»¬ä¸ä¼šå†æ‰“æ–­ç¨‹åºã€‚</p><p>æ¯ä¸ªå·²æ³¨å†Œçš„åº”ç”¨ç¨‹åºéƒ½å¯ä»¥è¦†ç›–è‡ªå·±çš„æ­¤è¡Œä¸ºã€‚</p></dd><dt>warningMillis: number = 1000</dt><dd>ä¸€ä¸ªåˆ¤æ–­ç­‰å¾…æ§åˆ¶å°warningæ˜¯å¦å‘ç”Ÿçš„æ¯«ç§’æ•°ã€‚</dd></dl><h3>returns</h3><p><code>undefined</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="events"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#events" title="Direct link to heading">#</a>Events</h2><p>single-spa fires Events to the <code>window</code> as a way for your code to hook into URL transitions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="popstateevent"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#popstateevent" title="Direct link to heading">#</a>PopStateEvent</h3><p>single-spa fires <a href="https://developer.mozilla.org/en-US/docs/Web/API/PopStateEvent">PopStateEvent</a> events when it wants to instruct all active applications to re-render. This occurs when one application calls <a href="https://developer.mozilla.org/en-US/docs/Web/API/History/pushState">history.pushState</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState">history.replaceState</a>, or <a href="#triggerAppChange">triggerAppChange</a>. Single-spa deviates from the browser&#x27;s default behavior in some cases, as described in <a href="https://github.com/single-spa/single-spa/issues/484#issuecomment-601279869">this Github issue</a>.</p><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;popstate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token parameter">evt</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">singleSpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;This event was fired by single-spa to forcibly trigger a re-render&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">singleSpaTrigger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// pushState | replaceState</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;This event was fired by native browser behavior&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="custom-events"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#custom-events" title="Direct link to heading">#</a>Custom Events</h3><p>single-spa fires a series of <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent">custom events</a> whenever it reroutes. A reroute occurs whenever the browser URL changes in any way or a <code>triggerAppChange</code> is called. The custom events are fired to the <code>window</code>. Each custom event has a <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail"><code>detail</code> property</a> with the following properties:</p><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa:before-routing-event&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token parameter">evt</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> originalEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> newAppStatuses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> appsByNewStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> totalAppChanges </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;original event that triggered this single-spa event&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> originalEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// PopStateEvent | HashChangeEvent | undefined</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;the new status for all applications after the reroute finishes&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> newAppStatuses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// { app1: MOUNTED, app2: NOT_MOUNTED }</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;the applications that changed, grouped by their status&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> appsByNewStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// { MOUNTED: [&#x27;app1&#x27;], NOT_MOUNTED: [&#x27;app2&#x27;] }</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;number of applications that changed status so far during this reroute&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> totalAppChanges</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>The following table shows the order in which the custom events are fired during a reroute:</p><table><thead><tr><th>Event order</th><th>Event Name</th><th>Condition for firing</th></tr></thead><tbody><tr><td>1</td><td><code>single-spa:before-app-change</code> or <code>single-spa:before-no-app-change</code></td><td>Will any applications change status?</td></tr><tr><td>2</td><td><code>single-spa:before-routing-event</code></td><td>â€”</td></tr><tr><td>3</td><td><code>single-spa:before-mount-routing-event</code></td><td>â€”</td></tr><tr><td>4</td><td><code>single-spa:before-first-mount</code></td><td>Is this the first time any application is mounting?</td></tr><tr><td>5</td><td><code>single-spa:first-mount</code></td><td>Is this the first time any application was mounted?</td></tr><tr><td>6</td><td><code>single-spa:app-change</code> or <code>single-spa:no-app-change</code></td><td>Did any applications change status?</td></tr><tr><td>7</td><td><code>single-spa:routing-event</code></td><td>â€”</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="before-app-change-event"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#before-app-change-event" title="Direct link to heading">#</a>before-app-change event</h3><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa:before-app-change&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa is about to mount/unmount applications!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">originalEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// PopStateEvent</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">newAppStatuses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// { app1: MOUNTED }</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">appsByNewStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// { MOUNTED: [&#x27;app1&#x27;], NOT_MOUNTED: [] }</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">totalAppChanges</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>A <code>single-spa:before-app-change</code> event is fired before reroutes that will result in at least one application changing status.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="before-no-app-change"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#before-no-app-change" title="Direct link to heading">#</a>before-no-app-change</h3><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa:before-no-app-change&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa is about to do a no-op reroute&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">originalEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// PopStateEvent</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">newAppStatuses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// { }</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">appsByNewStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// { MOUNTED: [], NOT_MOUNTED: [] }</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">totalAppChanges</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>æ¯æ¬¡è·¯ç”±è·³è½¬å<code>single-spa:routing-event</code>äº‹ä»¶ä¼šè¢«è§¦å‘ï¼Œå®ƒå¯èƒ½æ˜¯ hashchange, popstate, æˆ–è€… triggerAppChangeï¼Œç”šè‡³å½“å‰åº”ç”¨ä¸éœ€è¦ä¿®æ”¹æ—¶
; åœ¨single-spa æ ¡éªŒæ‰€æœ‰appéƒ½æ­£ç¡®åŠ è½½ï¼Œåˆå§‹åŒ–ï¼ŒæŒ‚è½½ï¼Œå¸è½½ä¹‹åæ­¤æ­¤äº‹ä»¶è§¦å‘ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="before-routing-event"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#before-routing-event" title="Direct link to heading">#</a>before-routing-event</h3><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa:before-routing-event&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa is about to mount/unmount applications!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">originalEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// PopStateEvent</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">newAppStatuses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// { }</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">appsByNewStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// { MOUNTED: [], NOT_MOUNTED: [] }</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">totalAppChanges</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>æ¯æ¬¡åŠ è½½ï¼Œåˆå§‹åŒ–ï¼ŒæŒ‚è½½ï¼Œå¸è½½æˆ–ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼Œéƒ½ä¼šè§¦å‘ <code>single-spa:app-change</code> äº‹ä»¶ã€‚å®ƒä¸ <code>single-spa:routing-event</code> è·¯ç”±äº‹ä»¶ç±»ä¼¼ï¼Œåªæ˜¯åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªåº”ç”¨ç¨‹åºçœŸæ­£åŠ è½½ï¼Œåˆå§‹åŒ–ï¼ŒæŒ‚è½½ï¼Œå¸è½½æˆ–ç§»é™¤ä¹‹åï¼Œå®ƒæ‰ä¼šå¯åŠ¨ã€‚å¦‚æœhashchangeã€popstateæˆ–triggerAppChangeä¸ä¼šå¯¼è‡´å…¶ä¸­ä»»ä½•ä¸€ä¸ªæ›´æ”¹ï¼Œåˆ™ä¸ä¼šå¼•å‘äº‹ä»¶ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="before-mount-routing-event"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#before-mount-routing-event" title="Direct link to heading">#</a>before-mount-routing-event</h3><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa:before-mount-routing-event&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa is about to mount/unmount applications!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">originalEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// PopStateEvent</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">newAppStatuses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// { app1: MOUNTED }</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">appsByNewStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// { MOUNTED: [&#x27;app1&#x27;], NOT_MOUNTED: [] }</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">totalAppChanges</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>å½“æ²¡æœ‰åŠ è½½ï¼Œåˆå§‹åŒ–ï¼ŒæŒ‚è½½ï¼Œå¸è½½æˆ–ç§»é™¤åº”ç”¨ç¨‹åºæ—¶ï¼Œsingle-spaè§¦å‘ <code>single-spa:no-app-change</code> äº‹ä»¶ã€‚è¿™ä¸ <code>single-spa:app-change</code> äº‹ä»¶æ­£å¥½ç›¸åã€‚æ¯ä¸ªè·¯ç”±äº‹ä»¶åªä¼šè§¦å‘ä¸€ä¸ªã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="before-first-mount"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#before-first-mount" title="Direct link to heading">#</a>before-first-mount</h3><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa:before-first-mount&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa is about to mount the very first application for the first time&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>åœ¨ç¬¬ä¸€ä¸ªsingle-spaåº”ç”¨è¢«æŒ‚åœ¨ä¹‹å‰ï¼Œsingle-spa ä¼šè§¦å‘ <code>single-spa:before-first-mount</code> äº‹ä»¶ï¼›å› æ­¤å®ƒåªä¼šè§¦å‘ä¸€æ¬¡ã€‚æ›´å…·ä½“ç‚¹è¯´ï¼Œå®ƒåªä¼šåœ¨åº”ç”¨è¢«åŠ è½½ä½†æœªæŒ‚è½½ä¹‹å‰è§¦å‘ã€‚</p><blockquote><p><strong>æ¨èç”¨ä¾‹ï¼š</strong> åœ¨ç”¨æˆ·å°†è¦çœ‹åˆ°ç¬¬ä¸€ä¸ªåº”ç”¨æŒ‚è½½ä¹‹å‰ï¼Œç§»é™¤ä¸€ä¸ªloadingã€‚</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="first-mount"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#first-mount" title="Direct link to heading">#</a>first-mount</h3><pre class="mdxCodeBlock_1WSO"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa:first-mount&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa just mounted the very first application&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>åœ¨ç¬¬ä¸€ä¸ªsingle-spaåº”ç”¨è¢«æŒ‚åœ¨ä¹‹åï¼Œ single-spa ä¼šè§¦å‘ <code>single-spa:first-mount</code> äº‹ä»¶ï¼›å› æ­¤å®ƒåªä¼šè§¦å‘ä¸€æ¬¡ã€‚</p><blockquote><p><strong>æ¨èç”¨ä¾‹ï¼š</strong> è¾“å‡ºç”¨æˆ·çœ‹åˆ°åº”ç”¨ä¹‹å‰èŠ±è´¹äº†å¤šé•¿æ—¶é—´ã€‚</p></blockquote></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/single-spa/zh-hans.single-spa.js.org/blob/master/website/versioned_docs/version-5.x/api.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/recommended-setup"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">Â« <!-- -->æ¨èè®¾ç½®</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/parcels-api"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Parcels API<!-- --> Â»</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#registerapplication" class="contents__link">registerApplication</a><ul class=""><li><a href="#ç®€å•å‚æ•°" class="contents__link">ç®€å•å‚æ•°</a></li><li><a href="#å¯¹è±¡å‚æ•°" class="contents__link">å¯¹è±¡å‚æ•°</a></li></ul></li><li><a href="#start" class="contents__link">start</a></li><li><a href="#triggerappchange" class="contents__link">triggerAppChange</a></li><li><a href="#navigatetourl" class="contents__link">navigateToUrl</a></li><li><a href="#getmountedapps" class="contents__link">getMountedApps</a></li><li><a href="#getappnames" class="contents__link">getAppNames</a></li><li><a href="#getappstatus" class="contents__link">getAppStatus</a></li><li><a href="#unloadapplication" class="contents__link">unloadApplication</a></li><li><a href="#checkactivityfunctions" class="contents__link">checkActivityFunctions</a></li><li><a href="#adderrorhandler" class="contents__link">addErrorHandler</a></li><li><a href="#removeerrorhandler" class="contents__link">removeErrorHandler</a></li><li><a href="#mountrootparcel" class="contents__link">mountRootParcel</a></li><li><a href="#pathtoactivewhen" class="contents__link">pathToActiveWhen</a></li><li><a href="#ensurejquerysupport" class="contents__link">ensureJQuerySupport</a></li><li><a href="#setbootstrapmaxtime" class="contents__link">setBootstrapMaxTime</a></li><li><a href="#setmountmaxtime" class="contents__link">setMountMaxTime</a></li><li><a href="#setunmountmaxtime" class="contents__link">setUnmountMaxTime</a></li><li><a href="#setunloadmaxtime" class="contents__link">setUnloadMaxTime</a></li><li><a href="#events" class="contents__link">Events</a><ul class=""><li><a href="#popstateevent" class="contents__link">PopStateEvent</a></li><li><a href="#custom-events" class="contents__link">Custom Events</a></li><li><a href="#before-app-change-event" class="contents__link">before-app-change event</a></li><li><a href="#before-no-app-change" class="contents__link">before-no-app-change</a></li><li><a href="#before-routing-event" class="contents__link">before-routing-event</a></li><li><a href="#before-mount-routing-event" class="contents__link">before-mount-routing-event</a></li><li><a href="#before-first-mount" class="contents__link">before-first-mount</a></li><li><a href="#first-mount" class="contents__link">first-mount</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" label="FAQ" href="/docs/faq/">FAQ</a></li><li class="footer__item"><a class="footer__link-item" label="Getting Started" href="/docs/getting-started-overview/">Getting Started</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" label="API Reference" href="/docs/api/">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" label="User Showcase" href="/users/">User Showcase</a></li><li class="footer__item"><a class="footer__link-item" label="Contributors" href="/contributors/">Contributors</a></li><li class="footer__item"><a class="footer__link-item" label="Chat in Slack" href="https://join.slack.com/t/single-spa/shared_invite/enQtODAwNTIyMzc4OTE1LWUxMTUwY2M1MTY0ZGMzOTUzMGNkMzI1NzRiYzYwOWM1MTEzZDM1NDAyNWM3ZmViOTAzZThkMDcwMWZmNTFmMWQ" target="_blank" rel="noopener noreferrer">Chat in Slack</a></li><li class="footer__item"><a class="footer__link-item" label="Twitter" href="https://twitter.com/Single_spa/" target="_blank" rel="noopener noreferrer">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" label="GitHub" href="https://github.com/single-spa/single-spa" target="_blank" rel="noopener noreferrer">GitHub</a></li><li class="footer__item"><a class="footer__link-item" label="Donate" href="https://opencollective.com/single-spa" target="_blank" rel="noopener noreferrer">Donate</a></li><li class="footer__item"><a class="footer__link-item" label="Blog" href="/blog/">Blog</a></li><li class="footer__item footer__item--gh"><iframe title="github" src="https://ghbtns.com/github-btn.html?user=single-spa&amp;repo=single-spa&amp;type=star&amp;count=true&amp;size=small"></iframe></li><li class="footer__item"><a href="/img/icons/148705-essential-collection/license/license.html">License for icons</a></li></ul></div></div><div class="text--center"><img class="footer__logo margin-bottom--sm" alt="single-spa" src="/img/logo-white-bgblue.svg"/><div>Originally developed at <a href="https://getcanopy.com">Canopy</a></div>Copyright Â© 2022 single-spa.</div></div></footer>
</div>

<script type="text/javascript" src="/styles.2fe13154.js"></script>

<script type="text/javascript" src="/runtime~main.3b4b6b3c.js"></script>

<script type="text/javascript" src="/main.1b422de1.js"></script>

<script type="text/javascript" src="/1.44f045ee.js"></script>

<script type="text/javascript" src="/2.99cde874.js"></script>

<script type="text/javascript" src="/1be78505.174b2750.js"></script>

<script type="text/javascript" src="/9c9e4252.63edf3c1.js"></script>

<script type="text/javascript" src="/17896441.6b93f7b8.js"></script>

<script type="text/javascript" src="/e4355444.29d82fd7.js"></script>

<script type="text/javascript" src="/cafbfab7.f15575d5.js"></script>


</body>
</html>